<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BitCrafty Module Test</title>
    <style>
        body { 
            font-family: monospace; 
            background: #272822; 
            color: #f8f8f2; 
            padding: 20px; 
        }
        .test-result { 
            padding: 10px; 
            margin: 5px 0; 
            border-radius: 4px;
        }
        .pass { background: #1e4d3e; border: 1px solid #4a9960; }
        .fail { background: #4d1e1e; border: 1px solid #994a4a; }
        .pending { background: #3e3e1e; border: 1px solid #9999; }
    </style>
</head>
<body>
    <h1>BitCrafty Module Import Test</h1>
    <div id="results"></div>
    
    <script type="module">
        const results = document.getElementById('results');
        
        function addResult(name, status, message = '') {
            const div = document.createElement('div');
            div.className = `test-result ${status}`;
            div.innerHTML = `<strong>${name}:</strong> ${status.toUpperCase()} ${message}`;
            results.appendChild(div);
        }
        
        // Test 1: Common module
        try {
            const common = await import('./lib/common.js');
            addResult('lib/common.js', 'pass', `(BASE_CRAFT_ITEMS: ${common.BASE_CRAFT_ITEMS.size} items)`);
        } catch (error) {
            addResult('lib/common.js', 'fail', error.message);
        }
        
        // Test 2: Store helpers
        try {
            const storeHelpers = await import('./lib/store-helpers.js');
            addResult('lib/store-helpers.js', 'pass', '(ItemHelpers, CraftHelpers, etc.)');
        } catch (error) {
            addResult('lib/store-helpers.js', 'fail', error.message);
        }
        
        // Test 3: UI component
        try {
            const ui = await import('./components/ui.js');
            addResult('components/ui.js', 'pass', '(initializeUI function)');
        } catch (error) {
            addResult('components/ui.js', 'fail', error.message);
        }
        
        // Test 4: Graph component
        try {
            const graph = await import('./components/graph.js');
            addResult('components/graph.js', 'pass', '(initializeGraph, focusNode)');
        } catch (error) {
            addResult('components/graph.js', 'fail', error.message);
        }
        
        // Test 5: Crafting component
        try {
            const crafting = await import('./components/crafting.js');
            addResult('components/crafting.js', 'pass', '(initializeCrafting, tracePath)');
        } catch (error) {
            addResult('components/crafting.js', 'fail', error.message);
        }
        
        // Test 6: Filters component
        try {
            const filters = await import('./components/filters.js');
            addResult('components/filters.js', 'pass', '(initializeFilters, applySubtreeFilter)');
        } catch (error) {
            addResult('components/filters.js', 'fail', error.message);
        }
        
        // Test 7: Main application
        try {
            const main = await import('./main.js');
            addResult('main.js', 'pass', '(main application entry point)');
        } catch (error) {
            addResult('main.js', 'fail', error.message);
        }
    </script>
</body>
</html>
